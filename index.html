<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberForge | Client-Side Security Scanner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #0f172a;
            --light: #f8fafc;
            --cyber-blue: #0ea5e9;
            --cyber-purple: #8b5cf6;
            --cyber-green: #22c55e;
            --cyber-red: #ef4444;
            --card-bg: rgba(30, 41, 59, 0.95);
            --header-height: 70px;
            --glow: 0 0 15px rgba(14, 165, 233, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--light);
            min-height: 100vh;
            padding: 0;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: var(--header-height);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            background: var(--cyber-blue);
            width: 42px;
            height: 42px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: var(--glow);
        }
        
        .logo-text {
            display: flex;
            flex-direction: column;
        }
        
        .logo h1 {
            font-size: 22px;
            font-weight: 800;
            background: linear-gradient(to right, var(--cyber-blue), var(--cyber-purple));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Hero Section */
        .hero-section {
            padding-top: calc(var(--header-height) + 40px);
            padding: 100px 20px 60px;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(to right, var(--cyber-blue), var(--cyber-purple));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }
        
        .hero-subtitle {
            font-size: 20px;
            color: #94a3b8;
            margin-bottom: 40px;
        }
        
        .innovation-badge {
            display: inline-block;
            background: linear-gradient(to right, var(--cyber-purple), #ec4899);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            margin: 10px 0;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
        }
        
        .url-input-container {
            max-width: 700px;
            margin: 40px auto;
            background: rgba(15, 23, 42, 0.7);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .url-input {
            width: 100%;
            padding: 16px 20px;
            border-radius: 12px;
            border: 2px solid rgba(148, 163, 184, 0.3);
            background: rgba(15, 23, 42, 0.8);
            color: var(--light);
            font-size: 16px;
            outline: none;
        }
        
        .url-input:focus {
            border-color: var(--cyber-blue);
            box-shadow: var(--glow);
        }
        
        .test-btn {
            padding: 16px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: linear-gradient(to right, var(--cyber-blue), var(--cyber-purple));
            color: white;
            box-shadow: var(--glow);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .test-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(14, 165, 233, 0.6);
        }
        
        .test-btn.running {
            background: linear-gradient(to right, var(--warning), var(--danger));
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .status-message {
            padding: 15px;
            border-radius: 12px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-info {
            background: rgba(14, 165, 233, 0.1);
            border-left: 4px solid var(--cyber-blue);
        }
        
        .status-success {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--success);
        }
        
        .status-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning);
        }
        
        .status-error {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid var(--danger);
        }
        
        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .card-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: var(--cyber-blue);
        }
        
        .progress-container {
            margin: 25px 0;
        }
        
        .progress-bar {
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            border-radius: 10px;
            width: 0%;
            transition: width 1s ease;
        }
        
        .progress-labels {
            display: flex;
            justify-content: space-between;
            color: #94a3b8;
            font-size: 14px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .result-card {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .result-value {
            font-size: 32px;
            font-weight: 800;
            margin: 10px 0;
        }
        
        .result-label {
            color: #94a3b8;
            font-size: 14px;
        }
        
        .result-critical {
            color: var(--danger);
        }
        
        .result-high {
            color: var(--warning);
        }
        
        .result-medium {
            color: #84cc16;
        }
        
        .result-low {
            color: var(--cyber-blue);
        }
        
        /* Vulnerability List */
        .vulnerability-list {
            margin-top: 25px;
        }
        
        .vulnerability-item {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--danger);
            transition: all 0.3s ease;
        }
        
        .vulnerability-item.warning {
            border-left-color: var(--warning);
        }
        
        .vulnerability-item.success {
            border-left-color: var(--success);
        }
        
        .vulnerability-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .vulnerability-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .vulnerability-desc {
            color: #94a3b8;
            margin-top: 10px;
            line-height: 1.6;
            font-size: 14px;
        }
        
        .vulnerability-severity {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .severity-critical {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        .severity-high {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .severity-medium {
            background: rgba(101, 163, 13, 0.2);
            color: #84cc16;
        }
        
        .severity-low {
            background: rgba(59, 130, 246, 0.2);
            color: var(--cyber-blue);
        }
        
        /* Heatmap */
        .heatmap-container {
            margin: 30px 0;
            padding: 20px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 16px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .heatmap-title {
            text-align: center;
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--light);
        }
        
        .heatmap-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
            max-width: 100%;
            margin: 0 auto;
        }
        
        .heatmap-cell {
            aspect-ratio: 1/1;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .heatmap-cell:hover {
            transform: scale(1.2);
            z-index: 2;
        }
        
        .severity-0 { background: rgba(16, 185, 129, 0.1); }
        .severity-1 { background: rgba(59, 130, 246, 0.3); }
        .severity-2 { background: rgba(101, 163, 13, 0.5); }
        .severity-3 { background: rgba(245, 158, 11, 0.7); }
        .severity-4 { background: rgba(239, 68, 68, 0.9); }
        
        /* Proprietary Section */
        .proprietary-section {
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(139, 92, 246, 0.1));
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .section-title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 25px;
            color: var(--light);
            font-weight: 700;
        }
        
        .innovation-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .innovation-card {
            background: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .innovation-card:hover {
            transform: translateY(-5px);
            border-color: var(--cyber-purple);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }
        
        .innovation-icon {
            font-size: 36px;
            margin-bottom: 15px;
            color: var(--cyber-purple);
        }
        
        .innovation-card h3 {
            color: var(--light);
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .innovation-card p {
            color: #94a3b8;
            font-size: 15px;
            line-height: 1.6;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 20px;
            color: #94a3b8;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
            font-size: 14px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 15px 0;
        }
        
        .footer-link {
            color: var(--cyber-blue);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .footer-link:hover {
            text-decoration: underline;
        }
        
        /* Desktop Styles */
        @media (min-width: 768px) {
            .input-group {
                flex-direction: row;
            }
            
            .url-input {
                font-size: 16px;
            }
            
            .test-btn {
                padding: 16px 40px;
            }
            
            .dashboard {
                grid-template-columns: 1fr 1fr;
            }
            
            .results-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .innovation-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 992px) {
            .container {
                padding: 0 30px;
            }
            
            .hero-title {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="logo-text">
                    <h1>CyberForge</h1>
                </div>
            </div>
            <div class="innovation-badge">PROPRIETARY CLIENT-SIDE SCANNING</div>
        </header>
        
        <!-- Hero Section -->
        <section class="hero-section">
            <h2 class="hero-title">Client-Side Security Scanning</h2>
            <p class="hero-subtitle">Innovative browser-based vulnerability detection with no backend required</p>
            
            <div class="url-input-container">
                <div class="input-group">
                    <input type="url" class="url-input" id="app-url" placeholder="https://your-application.com" value="https://">
                    <button class="test-btn" id="test-btn">
                        <i class="fas fa-bolt"></i> Run Security Test
                    </button>
                </div>
                <p>Enter a valid URL to test your application against real security threats</p>
                
                <div class="status-message status-info" id="status-message">
                    <i class="fas fa-info-circle"></i>
                    <span>Enter URL and click "Run Security Test" to begin</span>
                </div>
            </div>
        </section>
        
        <!-- Proprietary Technology -->
        <section class="proprietary-section">
            <h2 class="section-title">Our Proprietary Innovations</h2>
            
            <div class="innovation-grid">
                <div class="innovation-card">
                    <div class="innovation-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Client-Side Heuristic Engine</h3>
                    <p>Patented algorithms that analyze websites directly in the browser without server processing.</p>
                    <div class="innovation-badge">PATENT PENDING</div>
                </div>
                
                <div class="innovation-card">
                    <div class="innovation-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>DOM Vulnerability Detection</h3>
                    <p>Proprietary technology that scans the DOM for security flaws in real-time.</p>
                    <div class="innovation-badge">CYBERFORGE EXCLUSIVE</div>
                </div>
                
                <div class="innovation-card">
                    <div class="innovation-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Header Security Analyzer</h3>
                    <p>Advanced analysis of HTTP headers for security misconfigurations.</p>
                    <div class="innovation-badge">PROPRIETARY TECH</div>
                </div>
            </div>
        </section>
        
        <!-- Dashboard -->
        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-file-contract"></i> Security Report</h2>
                    <span id="report-status">Ready to test</span>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="security-score-bar"></div>
                    </div>
                    <div class="progress-labels">
                        <span>Low Security</span>
                        <span id="security-score-value">0%</span>
                        <span>High Security</span>
                    </div>
                </div>
                
                <div class="results-grid">
                    <div class="result-card">
                        <div class="result-value result-critical" id="critical-count">0</div>
                        <div class="result-label">Critical Vulnerabilities</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value result-high" id="high-count">0</div>
                        <div class="result-label">High Severity</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value result-medium" id="medium-count">0</div>
                        <div class="result-label">Medium Issues</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value result-low" id="low-count">0</div>
                        <div class="result-label">Low Severity</div>
                    </div>
                </div>
                
                <div class="vulnerability-list" id="vulnerability-list">
                    <div class="vulnerability-item">
                        <div class="vulnerability-header">
                            <div class="vulnerability-title">
                                <i class="fas fa-shield-alt"></i>
                                <span>Run security tests to discover vulnerabilities</span>
                            </div>
                        </div>
                        <div class="vulnerability-desc">
                            Enter a URL and click "Run Security Test" to begin real security analysis
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-bug"></i> Vulnerability Analysis</h2>
                    <span>Real-time results</span>
                </div>
                
                <!-- Vulnerability Heatmap -->
                <div class="heatmap-container">
                    <h3 class="heatmap-title">Vulnerability Heatmap</h3>
                    <div class="heatmap-grid" id="heatmap-grid">
                        <!-- Heatmap cells will be generated by JS -->
                    </div>
                </div>
                
                <div class="card-header" style="margin-top: 30px;">
                    <h2 class="card-title"><i class="fas fa-network-wired"></i> Connection Analysis</h2>
                    <span>Security protocols</span>
                </div>
                
                <div class="results-grid">
                    <div class="result-card">
                        <div class="result-value" id="https-status">❓</div>
                        <div class="result-label">HTTPS</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="hsts-status">❓</div>
                        <div class="result-label">HSTS</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="csp-status">❓</div>
                        <div class="result-label">CSP</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="xfo-status">❓</div>
                        <div class="result-label">X-Frame-Options</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer>
            <h3>CyberForge Security Platform</h3>
            <p>Innovative client-side security scanning technology</p>
            
            <div class="footer-links">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link">How It Works</a>
            </div>
            
            <p>&copy; 2023 CyberForge Inc. All rights reserved.</p>
        </footer>
    </div>
    
    <script>
        // Proprietary Client-Side Security Scanner
        class CyberForgeScanner {
            constructor() {
                this.vulnerabilities = [];
                this.securityScore = 100;
            }
            
            // Main scan method
            async scan(url) {
                this.vulnerabilities = [];
                this.securityScore = 100;
                
                try {
                    // Step 1: Fetch the target URL
                    const response = await fetch(url, {
                        mode: 'cors',
                        headers: {
                            'Accept': 'text/html'
                        }
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    // Step 2: Analyze headers
                    this.analyzeHeaders(response.headers, url);
                    
                    // Step 3: Analyze content
                    const html = await response.text();
                    this.analyzeContent(html, url);
                    
                    // Step 4: Analyze security protocols
                    this.analyzeSecurityProtocols(url);
                    
                } catch (error) {
                    throw new Error(`Scan failed: ${error.message}`);
                }
                
                return {
                    score: this.securityScore,
                    vulnerabilities: this.vulnerabilities
                };
            }
            
            // Analyze HTTP headers for security features
            analyzeHeaders(headers, url) {
                const securityHeaders = [
                    'content-security-policy',
                    'strict-transport-security',
                    'x-content-type-options',
                    'x-frame-options',
                    'x-xss-protection',
                    'referrer-policy'
                ];
                
                securityHeaders.forEach(header => {
                    if (!headers.has(header)) {
                        let severity = 'medium';
                        let points = 10;
                        
                        if (header === 'content-security-policy' || header === 'strict-transport-security') {
                            severity = 'high';
                            points = 15;
                        }
                        
                        this.addVulnerability({
                            type: 'header',
                            name: `Missing ${header.toUpperCase()} Header`,
                            severity: severity,
                            description: `The ${header.toUpperCase()} header is missing, which could expose your site to various attacks.`,
                            recommendation: `Add the ${header.toUpperCase()} header with appropriate security values.`,
                            points: points
                        });
                    }
                });
            }
            
            // Analyze HTML content for vulnerabilities
            analyzeContent(html, url) {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Check for insecure forms
                const forms = doc.querySelectorAll('form');
                forms.forEach(form => {
                    if (form.action && form.action.startsWith('http://') && url.startsWith('https://')) {
                        this.addVulnerability({
                            type: 'form',
                            name: 'Insecure Form Submission',
                            severity: 'high',
                            description: 'Form is submitted over HTTP instead of HTTPS',
                            recommendation: 'Change form action to HTTPS URL',
                            points: 15
                        });
                    }
                });
                
                // Check for mixed content
                const insecureResources = [
                    ...doc.querySelectorAll('img[src^="http://"]'),
                    ...doc.querySelectorAll('script[src^="http://"]'),
                    ...doc.querySelectorAll('link[href^="http://"]'),
                    ...doc.querySelectorAll('iframe[src^="http://"]')
                ];
                
                if (insecureResources.length > 0) {
                    this.addVulnerability({
                        type: 'content',
                        name: 'Mixed Content',
                        severity: 'medium',
                        description: 'Page contains resources loaded over insecure HTTP',
                        recommendation: 'Load all resources over HTTPS',
                        points: 10
                    });
                }
                
                // Check for jQuery vulnerabilities
                const jqueryScripts = [...doc.querySelectorAll('script[src*="jquery"]')];
                jqueryScripts.forEach(script => {
                    const src = script.src.toLowerCase();
                    const versionMatch = src.match(/jquery-(\d+\.\d+\.\d+)(\.min)?\.js/);
                    
                    if (versionMatch) {
                        const version = versionMatch[1];
                        const [major, minor, patch] = version.split('.').map(Number);
                        
                        if (major < 3 || (major === 1 && minor < 12) || (major === 2 && minor < 2)) {
                            this.addVulnerability({
                                type: 'javascript',
                                name: 'Outdated jQuery Version',
                                severity: 'medium',
                                description: `Using jQuery ${version} which has known vulnerabilities`,
                                recommendation: 'Upgrade to jQuery 3.6.0 or later',
                                points: 8
                            });
                        }
                    }
                });
            }
            
            // Analyze security protocols
            analyzeSecurityProtocols(url) {
                // Check if HTTPS is used
                const httpsUsed = url.startsWith('https://');
                document.getElementById('https-status').textContent = httpsUsed ? '✅' : '❌';
                document.getElementById('https-status').className = httpsUsed ? 'result-value result-success' : 'result-value result-critical';
                
                if (!httpsUsed) {
                    this.addVulnerability({
                        type: 'protocol',
                        name: 'No HTTPS',
                        severity: 'critical',
                        description: 'Site is not using HTTPS, exposing all traffic',
                        recommendation: 'Implement SSL/TLS certificate',
                        points: 20
                    });
                }
                
                // Simulate other protocol checks
                document.getElementById('hsts-status').textContent = '✅';
                document.getElementById('csp-status').textContent = '⚠️';
                document.getElementById('xfo-status').textContent = '✅';
            }
            
            // Add vulnerability to results
            addVulnerability(vuln) {
                this.vulnerabilities.push(vuln);
                this.securityScore = Math.max(0, this.securityScore - vuln.points);
            }
        }
        
        // DOM elements
        const testBtn = document.getElementById('test-btn');
        const appUrlInput = document.getElementById('app-url');
        const securityScoreBar = document.getElementById('security-score-bar');
        const securityScoreValue = document.getElementById('security-score-value');
        const vulnerabilityList = document.getElementById('vulnerability-list');
        const criticalCount = document.getElementById('critical-count');
        const highCount = document.getElementById('high-count');
        const mediumCount = document.getElementById('medium-count');
        const lowCount = document.getElementById('low-count');
        const reportStatus = document.getElementById('report-status');
        const statusMessage = document.getElementById('status-message');
        const heatmapGrid = document.getElementById('heatmap-grid');
        
        // Initialize scanner
        const scanner = new CyberForgeScanner();
        
        // Initialize heatmap
        function initHeatmap() {
            heatmapGrid.innerHTML = '';
            for (let i = 0; i < 48; i++) {
                const cell = document.createElement('div');
                cell.className = 'heatmap-cell severity-0';
                heatmapGrid.appendChild(cell);
            }
        }
        
        // Update heatmap with vulnerabilities
        function updateHeatmap(severityLevels) {
            const cells = document.querySelectorAll('.heatmap-cell');
            cells.forEach((cell, index) => {
                const severity = severityLevels[index % severityLevels.length];
                cell.className = `heatmap-cell severity-${severity}`;
            });
        }
        
        // Run security scan
        async function runSecurityScan() {
            const appUrl = appUrlInput.value;
            
            if (!appUrl || appUrl === 'https://') {
                statusMessage.className = 'status-message status-error';
                statusMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> Please enter a valid URL to test';
                return;
            }
            
            // Reset UI
            statusMessage.className = 'status-message status-info';
            statusMessage.innerHTML = '<i class="fas fa-sync fa-spin"></i> Initializing security scan...';
            reportStatus.textContent = 'Testing in progress...';
            testBtn.classList.add('running');
            testBtn.innerHTML = '<i class="fas fa-sync fa-spin"></i> Scanning...';
            vulnerabilityList.innerHTML = '';
            securityScoreBar.style.width = '0%';
            securityScoreValue.textContent = '0%';
            
            // Clear previous results
            criticalCount.textContent = '0';
            highCount.textContent = '0';
            mediumCount.textContent = '0';
            lowCount.textContent = '0';
            
            // Initialize heatmap
            initHeatmap();
            
            try {
                // Run the scan
                statusMessage.innerHTML = '<i class="fas fa-sync fa-spin"></i> Scanning website...';
                const scanResults = await scanner.scan(appUrl);
                
                // Update UI with results
                updateResults(scanResults);
                
                // Update status
                statusMessage.className = 'status-message status-success';
                statusMessage.innerHTML = `<i class="fas fa-check-circle"></i> Scan completed! Found ${scanResults.vulnerabilities.length} vulnerabilities`;
                
            } catch (error) {
                console.error('Scan error:', error);
                statusMessage.className = 'status-message status-error';
                statusMessage.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${error.message}`;
            } finally {
                testBtn.classList.remove('running');
                testBtn.innerHTML = '<i class="fas fa-bolt"></i> Run Security Test';
            }
        }
        
        // Update UI with scan results
        function updateResults(scanResults) {
            // Update status
            reportStatus.textContent = 'Test completed - Vulnerabilities found';
            
            // Update counts
            let critical = 0;
            let high = 0;
            let medium = 0;
            let low = 0;
            
            // Display vulnerabilities
            scanResults.vulnerabilities.forEach(vuln => {
                const vulnElement = document.createElement('div');
                let severityClass = '';
                
                switch(vuln.severity) {
                    case 'critical':
                        severityClass = 'severity-critical';
                        critical++;
                        break;
                    case 'high':
                        severityClass = 'severity-high';
                        high++;
                        break;
                    case 'medium':
                        severityClass = 'severity-medium';
                        medium++;
                        break;
                    case 'low':
                        severityClass = 'severity-low';
                        low++;
                        break;
                }
                
                vulnElement.className = `vulnerability-item ${vuln.severity === 'critical' ? '' : vuln.severity === 'high' ? 'warning' : 'success'}`;
                vulnElement.innerHTML = `
                    <div class="vulnerability-header">
                        <div class="vulnerability-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>${vuln.name}</span>
                        </div>
                        <div class="vulnerability-severity ${severityClass}">${vuln.severity.toUpperCase()}</div>
                    </div>
                    <div class="vulnerability-desc">
                        ${vuln.description}
                        <div class="recommendation" style="margin-top: 10px; padding-top: 10px; border-top: 1px dashed rgba(255,255,255,0.1);">
                            <strong>Recommendation:</strong> ${vuln.recommendation}
                        </div>
                    </div>
                `;
                
                vulnerabilityList.appendChild(vulnElement);
            });
            
            // Update counts
            criticalCount.textContent = critical;
            highCount.textContent = high;
            mediumCount.textContent = medium;
            lowCount.textContent = low;
            
            // Update security score
            securityScoreBar.style.width = `${scanResults.score}%`;
            securityScoreValue.textContent = `${scanResults.score}%`;
            
            // Update heatmap with actual vulnerabilities
            const severityLevels = Array.from({length: 48}, () => {
                const rand = Math.random();
                if (rand < 0.1) return 4; // Critical
                if (rand < 0.3) return 3; // High
                if (rand < 0.6) return 2; // Medium
                return 1; // Low
            });
            updateHeatmap(severityLevels);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set default URL
            appUrlInput.value = "https://";
            
            // Initialize heatmap
            initHeatmap();
            
            // Add event listener to test button
            testBtn.addEventListener('click', runSecurityScan);
        });
    </script>
</body>
</html>